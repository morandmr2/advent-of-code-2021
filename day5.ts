class Wind {
  x1: number;
  y1: number;
  x2: number;
  y2: number;

  constructor(positions: { x1: number, y1: number, x2: number, y2: number }) {
    this.x1 = positions.x1;
    this.y1 = positions.y1;
    this.x2 = positions.x2;
    this.y2 = positions.y2;
  }

  getCoveredPoints() {
    const points: { x: number, y: number }[] = [];
    if (this.x1 === this.x2) {
      const firstY = this.y1 > this.y2 ? this.y2 : this.y1;
      const lastY = this.y1 < this.y2 ? this.y2 : this.y1;
      for (let i = firstY ; i <= lastY ; i ++) {
        points.push({ x: this.x1, y: i });
      }
    }
    else {
      const coeff = (this.y2 - this.y1) / (this.x2 - this.x1);
      const firstX = this.x1 > this.x2 ? this.x2 : this.x1;
      const lastX = this.x1 < this.x2 ? this.x2 : this.x1;
      const firstY = firstX === this.x1 ? this.y1 : this.y2;
      const lastY = lastX === this.x1 ? this.y1 : this.y2;

      for (let i = firstX ; i <= lastX ; i ++) {
        points.push({ x: i, y: firstY + (i - firstX) * coeff });
      }
    }
    return points;
  }
}

const windEntries = [{x1:223, y1:805 , x2:223, y2:548},{x1:609, y1:164 , x2:609, y2:503},{x1:461, y1:552 , x2:796, y2:552},{x1:207, y1:361 , x2:207, y2:34},{x1:503, y1:879 , x2:503, y2:946},{x1:937, y1:52 , x2:937, y2:268},{x1:560, y1:652 , x2:118, y2:652},{x1:771, y1:103 , x2:85, y2:789},{x1:119, y1:156 , x2:947, y2:984},{x1:356, y1:634 , x2:607, y2:634},{x1:348, y1:812 , x2:873, y2:287},{x1:409, y1:490 , x2:726, y2:490},{x1:298, y1:790 , x2:298, y2:454},{x1:407, y1:543 , x2:820, y2:130},{x1:206, y1:89 , x2:591, y2:89},{x1:164, y1:709 , x2:976, y2:709},{x1:208, y1:921 , x2:208, y2:131},{x1:515, y1:209 , x2:515, y2:745},{x1:876, y1:639 , x2:281, y2:44},{x1:270, y1:453 , x2:727, y2:910},{x1:190, y1:417 , x2:190, y2:755},{x1:522, y1:726 , x2:903, y2:726},{x1:390, y1:651 , x2:603, y2:864},{x1:707, y1:549 , x2:926, y2:330},{x1:471, y1:869 , x2:471, y2:561},{x1:970, y1:735 , x2:401, y2:735},{x1:612, y1:624 , x2:612, y2:88},{x1:844, y1:879 , x2:844, y2:453},{x1:400, y1:38 , x2:400, y2:350},{x1:832, y1:225 , x2:984, y2:225},{x1:971, y1:642 , x2:42, y2:642},{x1:70, y1:862 , x2:447, y2:485},{x1:183, y1:79 , x2:183, y2:708},{x1:598, y1:700 , x2:598, y2:287},{x1:635, y1:195 , x2:39, y2:195},{x1:587, y1:362 , x2:349, y2:362},{x1:108, y1:88 , x2:965, y2:945},{x1:700, y1:299 , x2:165, y2:299},{x1:295, y1:824 , x2:785, y2:334},{x1:211, y1:284 , x2:390, y2:105},{x1:288, y1:326 , x2:672, y2:710},{x1:595, y1:231 , x2:595, y2:679},{x1:671, y1:576 , x2:813, y2:718},{x1:14, y1:845 , x2:784, y2:75},{x1:700, y1:129 , x2:43, y2:129},{x1:83, y1:913 , x2:889, y2:107},{x1:830, y1:596 , x2:322, y2:596},{x1:391, y1:450 , x2:391, y2:779},{x1:384, y1:32 , x2:384, y2:430},{x1:311, y1:948 , x2:938, y2:321},{x1:460, y1:288 , x2:460, y2:392},{x1:924, y1:602 , x2:924, y2:595},{x1:703, y1:458 , x2:703, y2:475},{x1:335, y1:953 , x2:335, y2:195},{x1:692, y1:314 , x2:927, y2:314},{x1:131, y1:433 , x2:131, y2:737},{x1:590, y1:771 , x2:965, y2:771},{x1:650, y1:13 , x2:963, y2:13},{x1:586, y1:904 , x2:658, y2:976},{x1:238, y1:824 , x2:782, y2:824},{x1:366, y1:45 , x2:691, y2:370},{x1:428, y1:758 , x2:201, y2:758},{x1:240, y1:545 , x2:30, y2:545},{x1:396, y1:154 , x2:332, y2:154},{x1:549, y1:307 , x2:233, y2:307},{x1:187, y1:240 , x2:851, y2:904},{x1:151, y1:135 , x2:937, y2:921},{x1:342, y1:850 , x2:342, y2:156},{x1:695, y1:200 , x2:695, y2:754},{x1:385, y1:880 , x2:893, y2:372},{x1:986, y1:966 , x2:813, y2:966},{x1:727, y1:661 , x2:727, y2:402},{x1:316, y1:937 , x2:316, y2:797},{x1:422, y1:235 , x2:422, y2:282},{x1:965, y1:684 , x2:882, y2:684},{x1:266, y1:222 , x2:419, y2:69},{x1:649, y1:843 , x2:635, y2:857},{x1:618, y1:84 , x2:126, y2:576},{x1:588, y1:822 , x2:588, y2:636},{x1:569, y1:142 , x2:569, y2:607},{x1:899, y1:479 , x2:488, y2:890},{x1:986, y1:52 , x2:369, y2:52},{x1:987, y1:478 , x2:551, y2:914},{x1:867, y1:951 , x2:973, y2:845},{x1:90, y1:401 , x2:304, y2:401},{x1:60, y1:836 , x2:798, y2:836},{x1:143, y1:675 , x2:686, y2:675},{x1:743, y1:974 , x2:743, y2:305},{x1:981, y1:899 , x2:551, y2:469},{x1:705, y1:430 , x2:493, y2:430},{x1:301, y1:366 , x2:823, y2:366},{x1:978, y1:712 , x2:617, y2:712},{x1:426, y1:805 , x2:426, y2:345},{x1:532, y1:855 , x2:532, y2:54},{x1:612, y1:143 , x2:612, y2:133},{x1:57, y1:52 , x2:955, y2:950},{x1:880, y1:50 , x2:16, y2:914},{x1:89, y1:908 , x2:89, y2:214},{x1:487, y1:867 , x2:586, y2:867},{x1:181, y1:285 , x2:181, y2:470},{x1:526, y1:666 , x2:86, y2:226},{x1:117, y1:704 , x2:117, y2:961},{x1:289, y1:101 , x2:983, y2:795},{x1:586, y1:429 , x2:442, y2:429},{x1:442, y1:869 , x2:734, y2:869},{x1:564, y1:479 , x2:564, y2:382},{x1:447, y1:486 , x2:62, y2:101},{x1:42, y1:218 , x2:509, y2:218},{x1:21, y1:890 , x2:843, y2:68},{x1:84, y1:978 , x2:921, y2:141},{x1:590, y1:960 , x2:590, y2:934},{x1:54, y1:949 , x2:967, y2:36},{x1:799, y1:39 , x2:767, y2:39},{x1:979, y1:232 , x2:979, y2:628},{x1:489, y1:482 , x2:339, y2:482},{x1:759, y1:473 , x2:290, y2:942},{x1:960, y1:958 , x2:32, y2:30},{x1:134, y1:180 , x2:134, y2:864},{x1:972, y1:981 , x2:13, y2:22},{x1:106, y1:385 , x2:11, y2:385},{x1:849, y1:454 , x2:447, y2:454},{x1:477, y1:385 , x2:955, y2:863},{x1:853, y1:180 , x2:922, y2:180},{x1:509, y1:274 , x2:751, y2:32},{x1:905, y1:295 , x2:779, y2:295},{x1:661, y1:629 , x2:104, y2:629},{x1:935, y1:117 , x2:93, y2:959},{x1:165, y1:372 , x2:746, y2:953},{x1:988, y1:141 , x2:122, y2:141},{x1:625, y1:621 , x2:625, y2:406},{x1:24, y1:710 , x2:465, y2:710},{x1:417, y1:468 , x2:851, y2:34},{x1:365, y1:285 , x2:572, y2:285},{x1:217, y1:164 , x2:217, y2:214},{x1:943, y1:439 , x2:465, y2:439},{x1:80, y1:102 , x2:80, y2:717},{x1:869, y1:19 , x2:54, y2:834},{x1:399, y1:480 , x2:399, y2:458},{x1:644, y1:826 , x2:644, y2:911},{x1:651, y1:189 , x2:651, y2:687},{x1:671, y1:946 , x2:332, y2:607},{x1:531, y1:417 , x2:657, y2:417},{x1:847, y1:350 , x2:847, y2:112},{x1:315, y1:733 , x2:871, y2:177},{x1:749, y1:118 , x2:692, y2:118},{x1:55, y1:616 , x2:55, y2:894},{x1:570, y1:307 , x2:633, y2:307},{x1:12, y1:964 , x2:883, y2:93},{x1:84, y1:299 , x2:84, y2:185},{x1:49, y1:187 , x2:903, y2:187},{x1:592, y1:40 , x2:842, y2:40},{x1:639, y1:381 , x2:802, y2:544},{x1:59, y1:61 , x2:836, y2:61},{x1:968, y1:51 , x2:266, y2:753},{x1:883, y1:373 , x2:883, y2:130},{x1:612, y1:45 , x2:406, y2:45},{x1:206, y1:698 , x2:206, y2:823},{x1:385, y1:685 , x2:385, y2:46},{x1:656, y1:338 , x2:73, y2:921},{x1:256, y1:794 , x2:365, y2:903},{x1:671, y1:247 , x2:248, y2:247},{x1:722, y1:509 , x2:635, y2:422},{x1:460, y1:783 , x2:615, y2:783},{x1:946, y1:980 , x2:946, y2:129},{x1:343, y1:780 , x2:343, y2:723},{x1:218, y1:371 , x2:218, y2:856},{x1:363, y1:809 , x2:143, y2:589},{x1:434, y1:739 , x2:889, y2:739},{x1:75, y1:71 , x2:975, y2:971},{x1:57, y1:253 , x2:582, y2:778},{x1:976, y1:237 , x2:976, y2:148},{x1:386, y1:866 , x2:386, y2:544},{x1:901, y1:797 , x2:901, y2:630},{x1:976, y1:706 , x2:195, y2:706},{x1:264, y1:420 , x2:272, y2:428},{x1:693, y1:72 , x2:693, y2:379},{x1:888, y1:832 , x2:888, y2:490},{x1:363, y1:900 , x2:363, y2:350},{x1:25, y1:312 , x2:25, y2:58},{x1:292, y1:307 , x2:481, y2:307},{x1:715, y1:393 , x2:976, y2:132},{x1:641, y1:450 , x2:96, y2:450},{x1:650, y1:38 , x2:432, y2:38},{x1:339, y1:97 , x2:476, y2:97},{x1:916, y1:24 , x2:13, y2:927},{x1:933, y1:934 , x2:34, y2:35},{x1:971, y1:367 , x2:971, y2:919},{x1:726, y1:310 , x2:477, y2:559},{x1:12, y1:984 , x2:986, y2:10},{x1:318, y1:531 , x2:318, y2:72},{x1:604, y1:979 , x2:12, y2:387},{x1:890, y1:39 , x2:890, y2:213},{x1:944, y1:954 , x2:33, y2:43},{x1:507, y1:830 , x2:284, y2:607},{x1:724, y1:111 , x2:724, y2:242},{x1:425, y1:912 , x2:425, y2:445},{x1:371, y1:903 , x2:371, y2:634},{x1:415, y1:314 , x2:415, y2:509},{x1:884, y1:849 , x2:884, y2:454},{x1:726, y1:647 , x2:447, y2:926},{x1:588, y1:463 , x2:588, y2:426},{x1:807, y1:453 , x2:807, y2:593},{x1:32, y1:449 , x2:975, y2:449},{x1:593, y1:757 , x2:593, y2:607},{x1:521, y1:850 , x2:521, y2:139},{x1:843, y1:478 , x2:843, y2:317},{x1:408, y1:834 , x2:408, y2:455},{x1:65, y1:241 , x2:864, y2:241},{x1:532, y1:138 , x2:613, y2:138},{x1:477, y1:239 , x2:477, y2:676},{x1:92, y1:400 , x2:92, y2:935},{x1:268, y1:104 , x2:300, y2:104},{x1:942, y1:20 , x2:93, y2:869},{x1:294, y1:134 , x2:695, y2:134},{x1:748, y1:477 , x2:748, y2:311},{x1:581, y1:879 , x2:481, y2:879},{x1:292, y1:57 , x2:874, y2:639},{x1:829, y1:787 , x2:944, y2:787},{x1:130, y1:780 , x2:442, y2:780},{x1:754, y1:435 , x2:956, y2:435},{x1:306, y1:659 , x2:306, y2:491},{x1:252, y1:612 , x2:646, y2:612},{x1:846, y1:949 , x2:846, y2:924},{x1:197, y1:888 , x2:145, y2:836},{x1:156, y1:790 , x2:151, y2:790},{x1:903, y1:305 , x2:671, y2:73},{x1:195, y1:79 , x2:195, y2:40},{x1:781, y1:67 , x2:781, y2:635},{x1:742, y1:743 , x2:742, y2:280},{x1:297, y1:42 , x2:618, y2:42},{x1:237, y1:151 , x2:156, y2:151},{x1:851, y1:930 , x2:47, y2:126},{x1:425, y1:368 , x2:659, y2:134},{x1:57, y1:890 , x2:898, y2:49},{x1:86, y1:62 , x2:86, y2:445},{x1:133, y1:499 , x2:133, y2:604},{x1:202, y1:567 , x2:872, y2:567},{x1:749, y1:578 , x2:749, y2:804},{x1:379, y1:379 , x2:147, y2:379},{x1:510, y1:474 , x2:510, y2:388},{x1:184, y1:115 , x2:738, y2:115},{x1:904, y1:613 , x2:550, y2:613},{x1:755, y1:649 , x2:755, y2:305},{x1:461, y1:306 , x2:461, y2:547},{x1:469, y1:124 , x2:542, y2:124},{x1:736, y1:218 , x2:736, y2:968},{x1:307, y1:662 , x2:307, y2:188},{x1:360, y1:970 , x2:58, y2:668},{x1:36, y1:267 , x2:214, y2:267},{x1:980, y1:330 , x2:22, y2:330},{x1:222, y1:972 , x2:222, y2:178},{x1:846, y1:774 , x2:714, y2:774},{x1:798, y1:837 , x2:789, y2:837},{x1:567, y1:258 , x2:567, y2:502},{x1:325, y1:582 , x2:325, y2:976},{x1:138, y1:386 , x2:138, y2:691},{x1:326, y1:878 , x2:326, y2:386},{x1:790, y1:276 , x2:811, y2:276},{x1:517, y1:522 , x2:81, y2:86},{x1:493, y1:567 , x2:406, y2:567},{x1:522, y1:370 , x2:13, y2:370},{x1:31, y1:697 , x2:607, y2:121},{x1:297, y1:524 , x2:297, y2:320},{x1:790, y1:681 , x2:753, y2:681},{x1:90, y1:961 , x2:901, y2:150},{x1:262, y1:46 , x2:262, y2:68},{x1:18, y1:26 , x2:977, y2:985},{x1:782, y1:381 , x2:956, y2:381},{x1:353, y1:740 , x2:353, y2:595},{x1:32, y1:448 , x2:941, y2:448},{x1:405, y1:254 , x2:686, y2:254},{x1:853, y1:57 , x2:297, y2:613},{x1:555, y1:209 , x2:439, y2:209},{x1:765, y1:679 , x2:142, y2:56},{x1:175, y1:903 , x2:175, y2:685},{x1:693, y1:653 , x2:845, y2:653},{x1:394, y1:108 , x2:394, y2:901},{x1:351, y1:108 , x2:335, y2:108},{x1:841, y1:83 , x2:841, y2:716},{x1:525, y1:608 , x2:525, y2:496},{x1:874, y1:32 , x2:874, y2:214},{x1:354, y1:760 , x2:44, y2:760},{x1:249, y1:330 , x2:864, y2:945},{x1:553, y1:377 , x2:553, y2:944},{x1:903, y1:374 , x2:335, y2:374},{x1:387, y1:34 , x2:387, y2:86},{x1:380, y1:331 , x2:380, y2:124},{x1:618, y1:520 , x2:797, y2:520},{x1:718, y1:169 , x2:703, y2:169},{x1:355, y1:184 , x2:851, y2:184},{x1:582, y1:570 , x2:582, y2:313},{x1:312, y1:952 , x2:312, y2:460},{x1:269, y1:70 , x2:269, y2:197},{x1:701, y1:907 , x2:701, y2:768},{x1:645, y1:417 , x2:645, y2:548},{x1:931, y1:532 , x2:367, y2:532},{x1:497, y1:361 , x2:497, y2:348},{x1:563, y1:642 , x2:976, y2:642},{x1:376, y1:504 , x2:376, y2:448},{x1:538, y1:945 , x2:538, y2:773},{x1:594, y1:886 , x2:594, y2:281},{x1:879, y1:558 , x2:192, y2:558},{x1:985, y1:68 , x2:66, y2:987},{x1:599, y1:420 , x2:599, y2:41},{x1:296, y1:318 , x2:296, y2:132},{x1:330, y1:619 , x2:302, y2:619},{x1:245, y1:137 , x2:918, y2:810},{x1:823, y1:798 , x2:556, y2:531},{x1:64, y1:201 , x2:723, y2:860},{x1:955, y1:365 , x2:955, y2:829},{x1:372, y1:976 , x2:255, y2:859},{x1:804, y1:962 , x2:168, y2:962},{x1:200, y1:442 , x2:200, y2:97},{x1:965, y1:964 , x2:870, y2:869},{x1:534, y1:158 , x2:128, y2:564},{x1:380, y1:739 , x2:577, y2:542},{x1:740, y1:391 , x2:740, y2:651},{x1:167, y1:177 , x2:619, y2:177},{x1:215, y1:449 , x2:215, y2:330},{x1:494, y1:612 , x2:19, y2:137},{x1:458, y1:634 , x2:458, y2:257},{x1:884, y1:817 , x2:393, y2:326},{x1:407, y1:291 , x2:19, y2:679},{x1:627, y1:173 , x2:627, y2:570},{x1:53, y1:93 , x2:552, y2:592},{x1:809, y1:363 , x2:119, y2:363},{x1:588, y1:418 , x2:588, y2:764},{x1:807, y1:131 , x2:807, y2:834},{x1:616, y1:61 , x2:514, y2:61},{x1:553, y1:642 , x2:236, y2:325},{x1:959, y1:553 , x2:683, y2:553},{x1:36, y1:754 , x2:36, y2:830},{x1:533, y1:293 , x2:144, y2:293},{x1:950, y1:780 , x2:396, y2:780},{x1:949, y1:878 , x2:14, y2:878},{x1:453, y1:180 , x2:989, y2:180},{x1:22, y1:46 , x2:670, y2:694},{x1:479, y1:206 , x2:479, y2:552},{x1:22, y1:53 , x2:599, y2:53},{x1:254, y1:964 , x2:884, y2:334},{x1:578, y1:813 , x2:100, y2:813},{x1:945, y1:247 , x2:778, y2:80},{x1:312, y1:978 , x2:312, y2:518},{x1:882, y1:225 , x2:882, y2:967},{x1:581, y1:683 , x2:293, y2:395},{x1:107, y1:540 , x2:534, y2:967},{x1:382, y1:946 , x2:28, y2:946},{x1:864, y1:743 , x2:246, y2:743},{x1:538, y1:558 , x2:733, y2:753},{x1:811, y1:436 , x2:814, y2:436},{x1:982, y1:33 , x2:65, y2:950},{x1:785, y1:829 , x2:945, y2:829},{x1:322, y1:471 , x2:346, y2:471},{x1:904, y1:528 , x2:904, y2:669},{x1:231, y1:471 , x2:772, y2:471},{x1:773, y1:490 , x2:669, y2:386},{x1:867, y1:482 , x2:417, y2:32},{x1:352, y1:856 , x2:352, y2:478},{x1:723, y1:355 , x2:619, y2:355},{x1:667, y1:922 , x2:667, y2:247},{x1:642, y1:386 , x2:241, y2:386},{x1:594, y1:35 , x2:594, y2:580},{x1:916, y1:723 , x2:793, y2:723},{x1:73, y1:774 , x2:269, y2:970},{x1:43, y1:273 , x2:148, y2:168},{x1:744, y1:637 , x2:825, y2:637},{x1:98, y1:30 , x2:98, y2:383},{x1:130, y1:277 , x2:802, y2:277},{x1:167, y1:122 , x2:672, y2:627},{x1:871, y1:866 , x2:564, y2:559},{x1:923, y1:475 , x2:539, y2:859},{x1:422, y1:714 , x2:422, y2:946},{x1:667, y1:950 , x2:667, y2:640},{x1:758, y1:181 , x2:12, y2:927},{x1:129, y1:927 , x2:129, y2:288},{x1:485, y1:661 , x2:402, y2:661},{x1:114, y1:573 , x2:974, y2:573},{x1:674, y1:779 , x2:851, y2:779},{x1:977, y1:184 , x2:977, y2:143},{x1:229, y1:937 , x2:229, y2:138},{x1:520, y1:887 , x2:520, y2:512},{x1:918, y1:329 , x2:918, y2:990},{x1:732, y1:41 , x2:521, y2:41},{x1:399, y1:245 , x2:883, y2:729},{x1:824, y1:618 , x2:356, y2:618},{x1:215, y1:218 , x2:845, y2:848},{x1:704, y1:34 , x2:307, y2:431},{x1:124, y1:166 , x2:696, y2:738},{x1:692, y1:749 , x2:839, y2:749},{x1:790, y1:637 , x2:790, y2:598},{x1:697, y1:396 , x2:669, y2:396},{x1:419, y1:140 , x2:113, y2:446},{x1:426, y1:738 , x2:171, y2:738},{x1:489, y1:494 , x2:190, y2:793},{x1:320, y1:301 , x2:320, y2:398},{x1:275, y1:809 , x2:275, y2:717},{x1:537, y1:703 , x2:465, y2:703},{x1:536, y1:450 , x2:560, y2:450},{x1:153, y1:927 , x2:914, y2:166},{x1:246, y1:692 , x2:485, y2:453},{x1:26, y1:179 , x2:26, y2:554},{x1:487, y1:678 , x2:487, y2:696},{x1:807, y1:719 , x2:224, y2:719},{x1:605, y1:920 , x2:899, y2:920},{x1:112, y1:262 , x2:112, y2:765},{x1:752, y1:898 , x2:752, y2:429},{x1:861, y1:103 , x2:861, y2:477},{x1:628, y1:505 , x2:628, y2:248},{x1:556, y1:293 , x2:556, y2:276},{x1:826, y1:682 , x2:273, y2:129},{x1:685, y1:324 , x2:685, y2:692},{x1:544, y1:410 , x2:544, y2:678},{x1:796, y1:633 , x2:796, y2:950},{x1:753, y1:843 , x2:753, y2:936},{x1:817, y1:40 , x2:817, y2:600},{x1:137, y1:941 , x2:677, y2:401},{x1:563, y1:457 , x2:599, y2:457},{x1:251, y1:644 , x2:251, y2:67},{x1:170, y1:792 , x2:805, y2:792},{x1:171, y1:486 , x2:171, y2:877},{x1:337, y1:481 , x2:268, y2:412},{x1:43, y1:158 , x2:44, y2:158},{x1:148, y1:610 , x2:863, y2:610},{x1:332, y1:765 , x2:202, y2:765},{x1:307, y1:637 , x2:334, y2:637},{x1:557, y1:380 , x2:231, y2:54},{x1:858, y1:76 , x2:150, y2:784},{x1:477, y1:329 , x2:319, y2:329},{x1:306, y1:608 , x2:306, y2:38},{x1:245, y1:42 , x2:245, y2:929},{x1:15, y1:786 , x2:745, y2:786},{x1:946, y1:321 , x2:841, y2:321},{x1:837, y1:281 , x2:837, y2:762},{x1:847, y1:391 , x2:847, y2:840},{x1:304, y1:52 , x2:304, y2:299},{x1:938, y1:122 , x2:877, y2:122},{x1:214, y1:347 , x2:862, y2:347},{x1:494, y1:540 , x2:751, y2:540},{x1:184, y1:29 , x2:913, y2:758},{x1:904, y1:12 , x2:15, y2:901},{x1:573, y1:23 , x2:158, y2:23},{x1:926, y1:603 , x2:643, y2:603},{x1:105, y1:506 , x2:518, y2:506},{x1:551, y1:917 , x2:983, y2:917},{x1:708, y1:33 , x2:831, y2:33},{x1:347, y1:173 , x2:218, y2:44},{x1:933, y1:175 , x2:933, y2:781},{x1:902, y1:556 , x2:902, y2:812},{x1:556, y1:485 , x2:252, y2:789},{x1:823, y1:807 , x2:368, y2:352},{x1:217, y1:744 , x2:217, y2:470},{x1:795, y1:455 , x2:795, y2:783},{x1:170, y1:944 , x2:926, y2:188},{x1:55, y1:655 , x2:258, y2:655},{x1:158, y1:57 , x2:959, y2:858},{x1:714, y1:823 , x2:714, y2:550},{x1:238, y1:18 , x2:388, y2:18},{x1:980, y1:985 , x2:12, y2:17},{x1:360, y1:596 , x2:770, y2:596},{x1:846, y1:684 , x2:220, y2:58},{x1:552, y1:107 , x2:552, y2:974},{x1:228, y1:552 , x2:354, y2:552},{x1:421, y1:41 , x2:421, y2:103},{x1:674, y1:475 , x2:912, y2:475},{x1:455, y1:626 , x2:455, y2:683},{x1:952, y1:841 , x2:946, y2:841},{x1:920, y1:792 , x2:381, y2:253},{x1:786, y1:918 , x2:786, y2:175},{x1:889, y1:859 , x2:889, y2:24},{x1:178, y1:604 , x2:573, y2:209},{x1:71, y1:621 , x2:550, y2:621},{x1:38, y1:36 , x2:922, y2:920},{x1:104, y1:690 , x2:575, y2:690},{x1:252, y1:883 , x2:894, y2:241},{x1:627, y1:107 , x2:417, y2:107},{x1:768, y1:913 , x2:13, y2:158},{x1:708, y1:337 , x2:708, y2:407},{x1:156, y1:941 , x2:156, y2:297},{x1:814, y1:653 , x2:814, y2:829},{x1:234, y1:920 , x2:896, y2:920},{x1:652, y1:170 , x2:128, y2:170},{x1:765, y1:825 , x2:347, y2:825},{x1:681, y1:901 , x2:681, y2:112},{x1:410, y1:301 , x2:979, y2:301},{x1:462, y1:681 , x2:462, y2:726},{x1:117, y1:957 , x2:117, y2:693},{x1:479, y1:948 , x2:698, y2:948},{x1:839, y1:965 , x2:97, y2:223},{x1:102, y1:189 , x2:102, y2:366},{x1:93, y1:798 , x2:819, y2:72},{x1:27, y1:336 , x2:27, y2:655},{x1:161, y1:635 , x2:527, y2:269},{x1:140, y1:272 , x2:140, y2:336},{x1:884, y1:915 , x2:41, y2:72},{x1:575, y1:563 , x2:155, y2:563},{x1:387, y1:601 , x2:387, y2:597},{x1:355, y1:186 , x2:782, y2:613},{x1:866, y1:435 , x2:816, y2:435},{x1:96, y1:161 , x2:764, y2:161},{x1:971, y1:29 , x2:21, y2:979}];
const winds: Wind[] = windEntries.map(windEntry => new Wind(windEntry));

// Part 1
const verticalOrHorizontalWinds = winds.filter((wind) => wind.x1 === wind.x2 || wind.y1 === wind.y2);
const ponderedPositionsVertHori: Record<string, number> = {};
verticalOrHorizontalWinds.forEach(wind => {
  const coveredPoints = wind.getCoveredPoints();
  coveredPoints.forEach((point) => {
    if (!ponderedPositionsVertHori[`${point.x}/${point.y}`]) {
      ponderedPositionsVertHori[`${point.x}/${point.y}`] = 0;
    }
    ponderedPositionsVertHori[`${point.x}/${point.y}`]++;
  });
});

let positionOverlapsVertHori = 0;
Object.keys(ponderedPositionsVertHori).forEach(key => {
  if (ponderedPositionsVertHori[key] > 1) {
    positionOverlapsVertHori++;
  }
});
console.log('result 1 :', positionOverlapsVertHori);


// Part 2
const ponderedPositions: Record<string, number> = {};
winds.forEach((wind) => {
  const coveredPoints = wind.getCoveredPoints();
  coveredPoints.forEach((point) => {
    if (!ponderedPositions[`${point.x}/${point.y}`]) {
      ponderedPositions[`${point.x}/${point.y}`] = 0;
    }
    ponderedPositions[`${point.x}/${point.y}`]++;
  });
});

let positionOverlaps = 0;
Object.keys(ponderedPositions).forEach(key => {
  if (ponderedPositions[key] > 1) {
    positionOverlaps++;
  }
});
console.log('result 2 :', positionOverlaps);